<div class="page">
  <h1 class="title">Qualifikationen</h1>

  <div class="toolbar">
    <select class="filter" [(ngModel)]="filterValue">
      <option value="all">Filter</option>
      <option value="with">With people</option>
      <option value="empty">Empty</option>
    </select>

    <div class="search">
      <input
        class="searchInput"
        type="text"
        placeholder="Search"
        [(ngModel)]="searchValue"
      />
      <button class="searchBtn" type="button">üîç</button>
    </div>
  </div>

  <div class="list">
    <div *ngFor="let q of filteredQualifications">
      <!-- ROW -->
      <div class="row">
        <div class="name">{{ q.name }}</div>

        <!-- avatars -->
        <div class="people">
          <div class="avatar" *ngFor="let e of q.employees.slice(0, 2)">
            <img *ngIf="e.avatarUrl; else placeholder" [src]="e.avatarUrl" />
            <ng-template #placeholder>
              <span>{{ e.name[0] }}</span>
            </ng-template>
          </div>

          <div class="more" *ngIf="q.employees.length > 2">
            +{{ q.employees.length - 2 }}
          </div>
        </div>

        <!-- arrow -->
        <button class="arrow" type="button" (click)="toggle(q.name)">
          {{ expandedQualification === q.name ? '‚ñ≤' : '‚ñº' }}
        </button>
      </div>

      <!-- DETAILS -->
      <div class="details" *ngIf="expandedQualification === q.name">
        <div class="employee" *ngFor="let e of q.employees">
          <input type="checkbox" />

          <div class="big-avatar">
            <img *ngIf="e.avatarUrl; else bigPlaceholder" [src]="e.avatarUrl" />
            <ng-template #bigPlaceholder>
              <span>{{ e.name[0] }}</span>
            </ng-template>
          </div>

          <div class="employee-name">{{ e.name }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
